<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy:default-src 'self'">
    <title>Document</title>
</head>
<body>
    <button> click me</button>
    <script>
        let btn = document.querySelector('button');
        let the = throttle(function(){
            console.log(this);
        }, 500)
        btn.onclick = the;

        function throttle(fun, time) {
            // 定时器
            let timeOut;
            // 返回方法调用
            return function (){
                clearTimeout(timeOut);
                // 没有达到时间的开启一个定时器
                timeOut = setTimeout( () => {
                    // 定时器时间到了之后调用方法
                    fun.call(this);
                }, time)
            }
        }
    </script>
</body>
</html>